(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[67],{516:function(e,t,n){"use strict";n.d(t,{v:function(){return q}});var r=n(5893),i=n(7294);let s=e=>null!=e,o=e=>!!s(e)&&(1===e.length&&"text"in e[0]?!!e[0].text:!!e.length),a=e=>s(a)&&!!e,l={heading1:"heading1",heading2:"heading2",heading3:"heading3",heading4:"heading4",heading5:"heading5",heading6:"heading6",paragraph:"paragraph",preformatted:"preformatted",strong:"strong",em:"em",listItem:"list-item",oListItem:"o-list-item",list:"group-list-item",oList:"group-o-list-item",image:"image",embed:"embed",hyperlink:"hyperlink",label:"label",span:"span"},c={[l.listItem]:"listItem",[l.oListItem]:"oListItem",[l.list]:"list",[l.oList]:"oList"},u=e=>(t,n,r,i,s)=>{let o=e[c[t]||t];if(o)return o({type:t,node:n,text:r,children:i,key:s})},d=(...e)=>(...t)=>{for(let n=0;n<e.length;n++){let r=e[n];if(r){let e=r(...t);if(null!=e)return e}}},h=()=>(++h.i).toString();h.i=0;let f=e=>{let t=_(e),n=[];for(let e=0;e<t.length;e++)n.push(g(t[e]));return{key:h(),children:n}},p=(e,t=[])=>({key:h(),type:e.type,text:"text"in e?e.text:void 0,node:e,children:t}),m=e=>p({type:l.span,text:e,spans:[]}),_=e=>{let t=e.slice(0);for(let e=0;e<t.length;e++){let n=t[e];if(n.type===l.listItem||n.type===l.oListItem){let r=[n];for(;t[e+1]&&t[e+1].type===n.type;)r.push(t[e+1]),t.splice(e,1);n.type===l.listItem?t[e]={type:l.list,items:r}:t[e]={type:l.oList,items:r}}}return t},g=e=>{if("text"in e)return p(e,v(e.spans,e));if("items"in e){let t=[];for(let n=0;n<e.items.length;n++)t.push(g(e.items[n]));return p(e,t)}return p(e)},v=(e,t,n)=>{if(!e.length)return[m(t.text)];let r=e.slice(0);r.sort((e,t)=>e.start-t.start||t.end-e.end);let i=[];for(let e=0;e<r.length;e++){let s=r[e],o=n&&n.start||0,a=s.start-o,l=s.end-o,c=t.text.slice(a,l),u=[];for(let t=e;t<r.length;t++){let e=r[t];e!==s&&(e.start>=s.start&&e.end<=s.end?(u.push(e),r.splice(t,1),t--):e.start<s.end&&e.end>s.start&&(u.push({...e,end:s.end}),r[t]={...e,start:s.end}))}0===e&&a>0&&i.push(m(t.text.slice(0,a)));let d={...s,text:c};i.push(p(d,v(u,{...t,text:c},s))),l<t.text.length&&i.push(m(t.text.slice(l,r[e+1]?r[e+1].start-o:void 0)))}return i},y=(e,t)=>S(f(e).children,t),S=(e,t)=>{let n=[];for(let r=0;r<e.length;r++){let i=e[r],s=t(i.type,i.node,i.text,S(i.children,t),i.key);null!=s&&n.push(s)}return n},b={Any:"Any",Document:"Document",Media:"Media",Web:"Web"},w=e=>{var t;return{link_type:b.Document,id:e.id,uid:e.uid??void 0,type:e.type,tags:e.tags,lang:e.lang,url:e.url??void 0,slug:null==(t=e.slugs)?void 0:t[0],...e.data&&Object.keys(e.data).length>0?{data:e.data}:{}}},x=(e,t)=>{if(!e)return null;let n="link_type"in e?e:w(e);switch(n.link_type){case b.Media:case b.Web:return"url"in n?n.url:null;case b.Document:if("id"in n&&t){let e=t(n);if(null!=e)return e}if("url"in n&&n.url)return n.url;return null;case b.Any:default:return null}};var T=n(2194);let I=e=>`https://prismic.dev/msg/react/v2.5.2/${e}`,k=e=>{let t=/^(\/(?!\/)|#)/.test(e),n=!t&&!/^https?:\/\//.test(e);return t&&!n};var R=n(3696);let j=()=>i.useContext(R.Z)||{},C=(e,t)=>{let n;let i=j();if(!T.N){if("field"in e&&e.field){if(e.field.link_type)Object.keys(e.field).length>1&&!("url"in e.field||"uid"in e.field||"id"in e.field)&&console.warn(`[PrismicLink] The provided field is missing required properties to properly render a link. The link may not render correctly. For more details, see ${I("missing-link-properties")}`,e.field);else throw console.error(`[PrismicLink] This "field" prop value caused an error to be thrown.
`,e.field),Error(`[PrismicLink] The provided field is missing required properties to properly render a link. The link will not render. For more details, see ${I("missing-link-properties")}`)}else"document"in e&&e.document&&!("url"in e.document||"id"in e.document)&&console.warn(`[PrismicLink] The provided document is missing required properties to properly render a link. The link may not render correctly. For more details, see ${I("missing-link-properties")}`,e.document)}let s=e.linkResolver||i.linkResolver;"href"in e?n=e.href:"document"in e&&e.document?n=x(e.document,s):"field"in e&&e.field&&(n=x(e.field,s));let o=n&&k(n),a=e.target||"field"in e&&e.field&&"target"in e.field&&e.field.target||void 0,l=e.rel||("_blank"===a?"noopener noreferrer":void 0),c=e.internalComponent||i.internalLinkComponent||"a",u=e.externalComponent||i.externalLinkComponent||"a",d=Object.assign({},e);return delete d.linkResolver,delete d.internalComponent,delete d.externalComponent,delete d.rel,delete d.target,"field"in d?delete d.field:"document"in d?delete d.document:"href"in d&&delete d.href,n?(0,r.jsx)(o?c:u,{...d,ref:t,href:n,target:a,rel:l}):null};T.N||(C.displayName="PrismicLink");let L=i.forwardRef(C),A=e=>u({heading1:({children:e,key:t})=>(0,r.jsx)("h1",{children:e},t),heading2:({children:e,key:t})=>(0,r.jsx)("h2",{children:e},t),heading3:({children:e,key:t})=>(0,r.jsx)("h3",{children:e},t),heading4:({children:e,key:t})=>(0,r.jsx)("h4",{children:e},t),heading5:({children:e,key:t})=>(0,r.jsx)("h5",{children:e},t),heading6:({children:e,key:t})=>(0,r.jsx)("h6",{children:e},t),paragraph:({children:e,key:t})=>(0,r.jsx)("p",{children:e},t),preformatted:({node:e,key:t})=>(0,r.jsx)("pre",{children:e.text},t),strong:({children:e,key:t})=>(0,r.jsx)("strong",{children:e},t),em:({children:e,key:t})=>(0,r.jsx)("em",{children:e},t),listItem:({children:e,key:t})=>(0,r.jsx)("li",{children:e},t),oListItem:({children:e,key:t})=>(0,r.jsx)("li",{children:e},t),list:({children:e,key:t})=>(0,r.jsx)("ul",{children:e},t),oList:({children:e,key:t})=>(0,r.jsx)("ol",{children:e},t),image:({node:t,key:n})=>{let i=(0,r.jsx)("img",{src:t.url,alt:t.alt??void 0,"data-copyright":t.copyright?t.copyright:void 0});return(0,r.jsx)("p",{className:"block-img",children:t.linkTo?(0,r.jsx)(L,{linkResolver:e.linkResolver,internalComponent:e.internalLinkComponent,externalComponent:e.externalLinkComponent,field:t.linkTo,children:i}):i},n)},embed:({node:e,key:t})=>(0,r.jsx)("div",{"data-oembed":e.oembed.embed_url,"data-oembed-type":e.oembed.type,"data-oembed-provider":e.oembed.provider_name,dangerouslySetInnerHTML:{__html:e.oembed.html??""}},t),hyperlink:({node:t,children:n,key:i})=>(0,r.jsx)(L,{field:t.data,linkResolver:e.linkResolver,internalComponent:e.internalLinkComponent,externalComponent:e.externalLinkComponent,children:n},i),label:({node:e,children:t,key:n})=>(0,r.jsx)("span",{className:e.data.label,children:t},n),span:({text:e,key:t})=>{let n=[],s=0;for(let t of e.split("\n"))s>0&&n.push((0,r.jsx)("br",{},`${s}__break`)),n.push((0,r.jsx)(i.Fragment,{children:t},`${s}__line`)),s++;return(0,r.jsx)(i.Fragment,{children:n},t)}}),q=e=>{let t=j();return i.useMemo(()=>{if(!o(e.field))return null!=e.fallback?(0,r.jsx)(r.Fragment,{children:e.fallback}):null;{let n=e.linkResolver||t.linkResolver,s=d("object"==typeof e.components?u(e.components):e.components,"object"==typeof t.richTextComponents?u(t.richTextComponents):t.richTextComponents,A({linkResolver:n,internalLinkComponent:e.internalLinkComponent,externalLinkComponent:e.externalLinkComponent})),o=y(e.field,(e,t,n,r,o)=>{let a=s(e,t,n,r,o);return i.isValidElement(a)&&null==a.key?i.cloneElement(a,{key:o}):a});return(0,r.jsx)(r.Fragment,{children:o})}},[e.field,e.internalLinkComponent,e.externalLinkComponent,e.components,e.linkResolver,e.fallback,t.linkResolver,t.richTextComponents])}},172:function(e,t,n){"use strict";n.d(t,{p:function(){return l}});var r=n(5893),i=n(7294),s=n(2194);let o=e=>{let t=e.replace(/(?:-|_)(\w)/g,(e,t)=>t?t.toUpperCase():"");return t[0].toUpperCase()+t.slice(1)},a=s.N?()=>null:({slice:e})=>{let t="slice_type"in e?e.slice_type:e.type;return i.useEffect(()=>{console.warn(`[SliceZone] Could not find a component for Slice type "${t}"`,e)},[e,t]),(0,r.jsxs)("section",{"data-slice-zone-todo-component":"","data-slice-type":t,children:["Could not find a component for Slice type “",t,"”"]})},l=({slices:e=[],components:t={},resolver:n,defaultComponent:s=a,context:l={}})=>{let c=i.useMemo(()=>e.map((i,a)=>{let c="slice_type"in i?i.slice_type:i.type,u=t[c]||s;if(n){let e=n({slice:i,sliceName:o(c),i:a});e&&(u=e)}let d="id"in i&&i.id?i.id:`${a}-${JSON.stringify(i)}`;return(0,r.jsx)(u,{slice:i,index:a,slices:e,context:l},d)}),[t,l,s,e,n]);return(0,r.jsx)(r.Fragment,{children:c})}},2194:function(e,t,n){"use strict";n.d(t,{N:function(){return r}}),void 0===n(3454)&&(globalThis.process={env:{}});let r=!0},4563:function(e,t,n){"use strict";/*!
 * statuses
 * Copyright(c) 2014 Jonathan Ong
 * Copyright(c) 2016 Douglas Christopher Wilson
 * MIT Licensed
 */var r,i=n(5833);function s(e){if(!Object.prototype.hasOwnProperty.call(o.message,e))throw Error("invalid status code: "+e);return o.message[e]}function o(e){if("number"==typeof e)return s(e);if("string"!=typeof e)throw TypeError("code must be a number or string");var t=parseInt(e,10);return isNaN(t)?function(e){var t=e.toLowerCase();if(!Object.prototype.hasOwnProperty.call(o.code,t))throw Error('invalid status message: "'+e+'"');return o.code[t]}(e):s(t)}e.exports=o,o.message=i,o.code=(r={},Object.keys(i).forEach(function(e){var t=i[e],n=Number(e);r[t.toLowerCase()]=n}),r),o.codes=Object.keys(i).map(function(e){return Number(e)}),o.redirect={300:!0,301:!0,302:!0,303:!0,305:!0,307:!0,308:!0},o.empty={204:!0,205:!0,304:!0},o.retry={502:!0,503:!0,504:!0}},3454:function(e,t,n){"use strict";var r,i;e.exports=(null==(r=n.g.process)?void 0:r.env)&&"object"==typeof(null==(i=n.g.process)?void 0:i.env)?n.g.process:n(7663)},7213:function(e,t,n){var r=n(3454);n(1097);var i=n(7294),s=i&&"object"==typeof i&&"default"in i?i:{default:i};function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var a=void 0!==r&&r.env&&!0,l=function(e){return"[object String]"===Object.prototype.toString.call(e)},c=function(){function e(e){var t=void 0===e?{}:e,n=t.name,r=void 0===n?"stylesheet":n,i=t.optimizeForSpeed,s=void 0===i?a:i;u(l(r),"`name` must be a string"),this._name=r,this._deletedRulePlaceholder="#"+r+"-deleted-rule____{}",u("boolean"==typeof s,"`optimizeForSpeed` must be a boolean"),this._optimizeForSpeed=s,this._serverSheet=void 0,this._tags=[],this._injected=!1,this._rulesCount=0;var o=document.querySelector('meta[property="csp-nonce"]');this._nonce=o?o.getAttribute("content"):null}var t,n=e.prototype;return n.setOptimizeForSpeed=function(e){u("boolean"==typeof e,"`setOptimizeForSpeed` accepts a boolean"),u(0===this._rulesCount,"optimizeForSpeed cannot be when rules have already been inserted"),this.flush(),this._optimizeForSpeed=e,this.inject()},n.isOptimizeForSpeed=function(){return this._optimizeForSpeed},n.inject=function(){var e=this;if(u(!this._injected,"sheet already injected"),this._injected=!0,this._optimizeForSpeed){this._tags[0]=this.makeStyleTag(this._name),this._optimizeForSpeed="insertRule"in this.getSheet(),this._optimizeForSpeed||(a||console.warn("StyleSheet: optimizeForSpeed mode not supported falling back to standard mode."),this.flush(),this._injected=!0);return}this._serverSheet={cssRules:[],insertRule:function(t,n){return"number"==typeof n?e._serverSheet.cssRules[n]={cssText:t}:e._serverSheet.cssRules.push({cssText:t}),n},deleteRule:function(t){e._serverSheet.cssRules[t]=null}}},n.getSheetForTag=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]},n.getSheet=function(){return this.getSheetForTag(this._tags[this._tags.length-1])},n.insertRule=function(e,t){if(u(l(e),"`insertRule` accepts only strings"),this._optimizeForSpeed){var n=this.getSheet();"number"!=typeof t&&(t=n.cssRules.length);try{n.insertRule(e,t)}catch(t){return a||console.warn("StyleSheet: illegal rule: \n\n"+e+"\n\nSee https://stackoverflow.com/q/20007992 for more info"),-1}}else{var r=this._tags[t];this._tags.push(this.makeStyleTag(this._name,e,r))}return this._rulesCount++},n.replaceRule=function(e,t){if(this._optimizeForSpeed){var n=this.getSheet();if(t.trim()||(t=this._deletedRulePlaceholder),!n.cssRules[e])return e;n.deleteRule(e);try{n.insertRule(t,e)}catch(r){a||console.warn("StyleSheet: illegal rule: \n\n"+t+"\n\nSee https://stackoverflow.com/q/20007992 for more info"),n.insertRule(this._deletedRulePlaceholder,e)}}else{var r=this._tags[e];u(r,"old rule at index `"+e+"` not found"),r.textContent=t}return e},n.deleteRule=function(e){if(this._optimizeForSpeed)this.replaceRule(e,"");else{var t=this._tags[e];u(t,"rule at index `"+e+"` not found"),t.parentNode.removeChild(t),this._tags[e]=null}},n.flush=function(){this._injected=!1,this._rulesCount=0,this._tags.forEach(function(e){return e&&e.parentNode.removeChild(e)}),this._tags=[]},n.cssRules=function(){var e=this;return this._tags.reduce(function(t,n){return n?t=t.concat(Array.prototype.map.call(e.getSheetForTag(n).cssRules,function(t){return t.cssText===e._deletedRulePlaceholder?null:t})):t.push(null),t},[])},n.makeStyleTag=function(e,t,n){t&&u(l(t),"makeStyleTag accepts only strings as second parameter");var r=document.createElement("style");this._nonce&&r.setAttribute("nonce",this._nonce),r.type="text/css",r.setAttribute("data-"+e,""),t&&r.appendChild(document.createTextNode(t));var i=document.head||document.getElementsByTagName("head")[0];return n?i.insertBefore(r,n):i.appendChild(r),r},o(e.prototype,[{key:"length",get:function(){return this._rulesCount}}]),t&&o(e,t),e}();function u(e,t){if(!e)throw Error("StyleSheet: "+t+".")}var d=function(e){for(var t=5381,n=e.length;n;)t=33*t^e.charCodeAt(--n);return t>>>0},h={};function f(e,t){if(!t)return"jsx-"+e;var n=String(t),r=e+n;return h[r]||(h[r]="jsx-"+d(e+"-"+n)),h[r]}function p(e,t){var n=e+t;return h[n]||(h[n]=t.replace(/__jsx-style-dynamic-selector/g,e)),h[n]}var m=function(){function e(e){var t=void 0===e?{}:e,n=t.styleSheet,r=void 0===n?null:n,i=t.optimizeForSpeed,s=void 0!==i&&i;this._sheet=r||new c({name:"styled-jsx",optimizeForSpeed:s}),this._sheet.inject(),r&&"boolean"==typeof s&&(this._sheet.setOptimizeForSpeed(s),this._optimizeForSpeed=this._sheet.isOptimizeForSpeed()),this._fromServer=void 0,this._indices={},this._instancesCounts={}}var t=e.prototype;return t.add=function(e){var t=this;void 0===this._optimizeForSpeed&&(this._optimizeForSpeed=Array.isArray(e.children),this._sheet.setOptimizeForSpeed(this._optimizeForSpeed),this._optimizeForSpeed=this._sheet.isOptimizeForSpeed()),this._fromServer||(this._fromServer=this.selectFromServer(),this._instancesCounts=Object.keys(this._fromServer).reduce(function(e,t){return e[t]=0,e},{}));var n=this.getIdAndRules(e),r=n.styleId,i=n.rules;if(r in this._instancesCounts){this._instancesCounts[r]+=1;return}var s=i.map(function(e){return t._sheet.insertRule(e)}).filter(function(e){return -1!==e});this._indices[r]=s,this._instancesCounts[r]=1},t.remove=function(e){var t=this,n=this.getIdAndRules(e).styleId;if(function(e,t){if(!e)throw Error("StyleSheetRegistry: "+t+".")}(n in this._instancesCounts,"styleId: `"+n+"` not found"),this._instancesCounts[n]-=1,this._instancesCounts[n]<1){var r=this._fromServer&&this._fromServer[n];r?(r.parentNode.removeChild(r),delete this._fromServer[n]):(this._indices[n].forEach(function(e){return t._sheet.deleteRule(e)}),delete this._indices[n]),delete this._instancesCounts[n]}},t.update=function(e,t){this.add(t),this.remove(e)},t.flush=function(){this._sheet.flush(),this._sheet.inject(),this._fromServer=void 0,this._indices={},this._instancesCounts={}},t.cssRules=function(){var e=this,t=this._fromServer?Object.keys(this._fromServer).map(function(t){return[t,e._fromServer[t]]}):[],n=this._sheet.cssRules();return t.concat(Object.keys(this._indices).map(function(t){return[t,e._indices[t].map(function(e){return n[e].cssText}).join(e._optimizeForSpeed?"":"\n")]}).filter(function(e){return Boolean(e[1])}))},t.styles=function(e){var t,n;return t=this.cssRules(),void 0===(n=e)&&(n={}),t.map(function(e){var t=e[0],r=e[1];return s.default.createElement("style",{id:"__"+t,key:"__"+t,nonce:n.nonce?n.nonce:void 0,dangerouslySetInnerHTML:{__html:r}})})},t.getIdAndRules=function(e){var t=e.children,n=e.dynamic,r=e.id;if(n){var i=f(r,n);return{styleId:i,rules:Array.isArray(t)?t.map(function(e){return p(i,e)}):[p(i,t)]}}return{styleId:f(r),rules:Array.isArray(t)?t:[t]}},t.selectFromServer=function(){return Array.prototype.slice.call(document.querySelectorAll('[id^="__jsx-"]')).reduce(function(e,t){return e[t.id.slice(2)]=t,e},{})},e}(),_=i.createContext(null);_.displayName="StyleSheetContext";var g=s.default.useInsertionEffect||s.default.useLayoutEffect,v=new m;function y(e){var t=v||i.useContext(_);return t&&g(function(){return t.add(e),function(){t.remove(e)}},[e.id,String(e.dynamic)]),null}y.dynamic=function(e){return e.map(function(e){return f(e[0],e[1])}).join(" ")},t.style=y},883:function(e,t,n){"use strict";e.exports=n(7213).style},7663:function(e){!function(){var t={229:function(e){var t,n,r,i=e.exports={};function s(){throw Error("setTimeout has not been defined")}function o(){throw Error("clearTimeout has not been defined")}function a(e){if(t===setTimeout)return setTimeout(e,0);if((t===s||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(n){try{return t.call(null,e,0)}catch(n){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:s}catch(e){t=s}try{n="function"==typeof clearTimeout?clearTimeout:o}catch(e){n=o}}();var l=[],c=!1,u=-1;function d(){c&&r&&(c=!1,r.length?l=r.concat(l):u=-1,l.length&&h())}function h(){if(!c){var e=a(d);c=!0;for(var t=l.length;t;){for(r=l,l=[];++u<t;)r&&r[u].run();u=-1,t=l.length}r=null,c=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===o||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function f(e,t){this.fun=e,this.array=t}function p(){}i.nextTick=function(e){var t=Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];l.push(new f(e,t)),1!==l.length||c||a(h)},f.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=p,i.addListener=p,i.once=p,i.off=p,i.removeListener=p,i.removeAllListeners=p,i.emit=p,i.prependListener=p,i.prependOnceListener=p,i.listeners=function(e){return[]},i.binding=function(e){throw Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw Error("process.chdir is not supported")},i.umask=function(){return 0}}},n={};function r(e){var i=n[e];if(void 0!==i)return i.exports;var s=n[e]={exports:{}},o=!0;try{t[e](s,s.exports,r),o=!1}finally{o&&delete n[e]}return s.exports}r.ab="//";var i=r(229);e.exports=i}()},1097:function(){},6471:function(e,t,n){"use strict";n.d(t,{i:function(){return eH}});var r,i,s,o,a,l,c,u,d,h,f,p,m,_,g,v,y,S,b=n(7294),w=n(4563);let x=0,T=(e,t,n="")=>({requestID:`${n}${x++}`,type:e,data:t}),I=(e,t,n=200)=>{var r,i;if(n>=400)throw TypeError(`Invalid success status code, expected status to be within \`[100;400[\`, got \`${n}\``);return{requestID:e,status:n,msg:null!=(i=null==(r=w.message[n])?void 0:r.replace(/\.$/,"").toLowerCase())?i:"",data:t}},k=(e,t,n=400)=>{var r,i;if(n<400)throw TypeError(`Invalid error status code, expected status to be within \`[500;600[\`, got \`${n}\``);return{requestID:e,status:n,msg:null!=(i=null==(r=w.message[n])?void 0:r.replace(/\.$/,"").toLowerCase())?i:"",error:t}},R=e=>{if("object"!=typeof e||null===e)throw TypeError(`Invalid message received, expected message to be of type \`object\`, got \`${typeof e}\``);if(Object.keys(e).every(e=>["requestID","type","data","status","msg","error"].includes(e))){if("string"!=typeof e.requestID)throw TypeError(`Invalid message received, expected \`message.requestID\` to be of type \`string\`, got \`${typeof e.id}\``)}else throw TypeError(`Invalid message received: ${JSON.stringify(e)}`);return e},j=e=>"type"in e,C=e=>!("type"in e),L=e=>C(e)&&!("error"in e);class A extends Error{constructor(e){super(e.msg),this.response=e}}class q extends Error{constructor(e){super("Too many concurrent requests"),this.request=e}}class M extends Error{constructor(e){super(`Request \`${e.requestID}\` timed out`),this.request=e}}class F extends Error{}class D extends Error{constructor(){super("Port is not set")}}let E={debug:!1,maximumRequestConcurrency:20,defaultTimeout:5e3,requestIDPrefix:"channel-"};class P{constructor(e,t){this._port=null,this._pendingRequests=new Map,this.requestHandlers=e,this.options={...E,...t}}get port(){if(!this._port)throw new D;return this._port}set port(e){this._port&&(this._port.onmessage=null),this._port=e,this._port&&(this._port.onmessage=this.onMessage.bind(this))}createRequestMessage(e,t){return T(e,t,this.options.requestIDPrefix)}async onMessage(e){this.options.debug&&console.debug(e.data);try{let t=R(e.data);if(j(t)){if(this.requestHandlers[t.type])try{let e=await this.requestHandlers[t.type](t,{success:I.bind(this,t.requestID),error:k.bind(this,t.requestID)});this.postResponse(e)}catch(e){this.postResponse(k(t.requestID,e,500))}else this.postResponse(k(t.requestID,void 0,501))}else this._pendingRequests.has(t.requestID)?(this._pendingRequests.get(t.requestID)(t),this._pendingRequests.delete(t.requestID)):console.error(`Unknown request ID received in response: ${JSON.stringify(t)}`)}catch(e){if(e instanceof TypeError)console.warn(e.message);else throw e}}postRequest(e,t=e=>this.port.postMessage(e),n={}){if(this.options.debug&&console.debug(e),this._pendingRequests.size>=this.options.maximumRequestConcurrency)throw new q(e);return new Promise((r,i)=>{let s=setTimeout(()=>{this._pendingRequests.has(e.requestID)&&this._pendingRequests.delete(e.requestID),i(new M(e))},n.timeout||this.options.defaultTimeout);this._pendingRequests.set(e.requestID,e=>{clearTimeout(s),L(e)?r(e):i(new A(e))}),t(e)})}postResponse(e,t=e=>this.port.postMessage(e)){return this.options.debug&&console.debug(e),t(e),e}}var O=((r=O||{}).Connect="connect",r),N=((i=N||{}).Ready="ready",i);let z={readyTimeout:2e4,requestIDPrefix:"receiver-"};class $ extends P{constructor(e,t){super(e,{...z,...t}),this._ready=!1,window.addEventListener("message",e=>{this._onPublicMessage(e)})}async ready(){if(window.parent===window)throw Error("Receiver is currently not embedded as an iframe");this._ready=!1;let e=this.createRequestMessage(N.Ready,void 0),t=await this.postRequest(e,e=>{window.parent.postMessage(e,"*")},{timeout:this.options.readyTimeout});return this._ready=!0,t}_onPublicMessage(e){try{let t=R(e.data);if(j(t)){if(this.options.debug&&console.debug(e.data),t.type===O.Connect){this.port=e.ports[0];let{data:n}=t;this.options={...this.options,...n,debug:this.options.debug,requestIDPrefix:this.options.requestIDPrefix,readyTimeout:this.options.readyTimeout};let r=I(t.requestID,void 0);this.postResponse(r)}else this.postResponse(k(t.requestID,void 0),t=>{e.source.postMessage(t,e.origin)})}else this._ready||this.onMessage(e)}catch(e){if(e instanceof TypeError);else throw e}}postFormattedRequest(e,t,n={}){if(!this._ready)throw new F("Receiver is not ready, use `ChannelReceiver.ready()` first");return this.postRequest(this.createRequestMessage(e,t),void 0,n)}}var Z=((s=Z||{}).SetActiveSlice="setActiveSlice",s),U=((o=U||{}).Ping="ping",o.GetLibraries="getLibraries",o.SetSliceZone="setSliceZone",o.SetSliceZoneFromSliceIDs="setSliceZoneFromSliceIDs",o.ScrollToSlice="scrollToSlice",o);U.Ping,U.GetLibraries,U.SetSliceZone,U.SetSliceZoneFromSliceIDs,U.ScrollToSlice;let B={requestIDPrefix:"api-",activeSliceAPI:!1};class H extends ${constructor(e,t){var n,r;let i=(null==t?void 0:t.debug)||/[\?&]debug=true/i.test(decodeURIComponent(window.location.search));super({[U.Ping]:(e,t)=>t.success("pong"),...e},{...B,...t,debug:i}),this[S]=async e=>await this.postFormattedRequest(Z.SetActiveSlice,e),i&&(window.prismic||(window.prismic={}),(n=window.prismic).sliceSimulator||(n.sliceSimulator={}),(r=window.prismic.sliceSimulator).api||(r.api=[]),window.prismic.sliceSimulator.api.push(this))}}S=Z.SetActiveSlice;Object.prototype.hasOwnProperty;var G=function(e){return{_tag:"Right",right:e}},K=function(e){return"Left"===e._tag},V=(a=function(e,t){return(a=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),J=function(){return(J=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},W=function(e,t,n){if(n||2==arguments.length)for(var r,i=0,s=t.length;i<s;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))},Y=function(e){return{_tag:"Left",left:e}},X=function(e,t,n){return Y([{value:e,context:t,message:n}])},Q=function(){function e(e,t,n,r){this.name=e,this.is=t,this.validate=n,this.encode=r,this.decode=this.decode.bind(this)}return e.prototype.pipe=function(t,n){var r=this;return void 0===n&&(n="pipe(".concat(this.name,", ").concat(t.name,")")),new e(n,t.is,function(e,n){var i=r.validate(e,n);return K(i)?i:t.validate(i.right,n)},this.encode===ee&&t.encode===ee?ee:function(e){return r.encode(t.encode(e))})},e.prototype.asDecoder=function(){return this},e.prototype.asEncoder=function(){return this},e.prototype.decode=function(e){return this.validate(e,[{key:"",type:this,actual:e}])},e}(),ee=function(e){return e};function et(e,t,n,r){for(var i=e.length,s=Array(i+1),o=0;o<i;o++)s[o]=e[o];return s[i]={key:t,type:n,actual:r},s}function en(e,t){for(var n=t.length,r=0;r<n;r++)e.push(t[r])}var er=Object.prototype.hasOwnProperty;function ei(e){for(var t=0;t<e.length;t++)if(e[t].encode!==ee)return!1;return!0}function es(e){return"{ ".concat(Object.keys(e).map(function(t){return"".concat(t,": ").concat(e[t].name)}).join(", ")," }")}function eo(e,t){for(var n=!0,r=!0,i=!eh.is(e),s=0;s<t.length;s++){var o=t[s];o!==e&&(n=!1),eh.is(o)&&(r=!1)}if(n)return e;if(r)return t[t.length-1];for(var a={},l=0;l<t.length;l++){var o=t[l];for(var c in o)(!er.call(a,c)||i||o[c]!==e[c])&&(a[c]=o[c])}return a}function ea(e){return"AnyType"===e._tag}new(function(e){function t(){var t=e.call(this,"null",function(e){return null===e},function(e,n){return t.is(e)?G(e):X(e,n)},ee)||this;return t._tag="NullType",t}return V(t,e),t}(Q));var el=new(function(e){function t(){var t=e.call(this,"undefined",function(e){return void 0===e},function(e,n){return t.is(e)?G(e):X(e,n)},ee)||this;return t._tag="UndefinedType",t}return V(t,e),t}(Q));new(function(e){function t(){var t=e.call(this,"void",el.is,el.validate,ee)||this;return t._tag="VoidType",t}return V(t,e),t}(Q)),new(function(e){function t(){var t=e.call(this,"unknown",function(e){return!0},G,ee)||this;return t._tag="UnknownType",t}return V(t,e),t}(Q));var ec=new(function(e){function t(){var t=e.call(this,"string",function(e){return"string"==typeof e},function(e,n){return t.is(e)?G(e):X(e,n)},ee)||this;return t._tag="StringType",t}return V(t,e),t}(Q)),eu=new(function(e){function t(){var t=e.call(this,"number",function(e){return"number"==typeof e},function(e,n){return t.is(e)?G(e):X(e,n)},ee)||this;return t._tag="NumberType",t}return V(t,e),t}(Q));new(function(e){function t(){var t=e.call(this,"bigint",function(e){return"bigint"==typeof e},function(e,n){return t.is(e)?G(e):X(e,n)},ee)||this;return t._tag="BigIntType",t}return V(t,e),t}(Q)),new(function(e){function t(){var t=e.call(this,"boolean",function(e){return"boolean"==typeof e},function(e,n){return t.is(e)?G(e):X(e,n)},ee)||this;return t._tag="BooleanType",t}return V(t,e),t}(Q));var ed=new(function(e){function t(){var t=e.call(this,"UnknownArray",Array.isArray,function(e,n){return t.is(e)?G(e):X(e,n)},ee)||this;return t._tag="AnyArrayType",t}return V(t,e),t}(Q)),eh=new(function(e){function t(){var t=e.call(this,"UnknownRecord",function(e){return null!==e&&"object"==typeof e&&!Array.isArray(e)},function(e,n){return t.is(e)?G(e):X(e,n)},ee)||this;return t._tag="AnyDictionaryType",t}return V(t,e),t}(Q));V(function(e,t,n,r,i){var s=l.call(this,e,t,n,r)||this;return s.value=i,s._tag="LiteralType",s},l=Q),V(function(e,t,n,r,i){var s=c.call(this,e,t,n,r)||this;return s.keys=i,s._tag="KeyofType",s},c=Q);var ef=function(e){function t(t,n,r,i,s,o){var a=e.call(this,t,n,r,i)||this;return a.type=s,a.predicate=o,a._tag="RefinementType",a}return V(t,e),t}(Q);eT(eu,function(e){return Number.isInteger(e)},"Int"),Object.defineProperty(function(e){function t(t,n,r,i,s){var o=e.call(this,t,n,r,i)||this;return o.runDefinition=s,o._tag="RecursiveType",o}return V(t,e),t}(Q).prototype,"type",{get:function(){return this.runDefinition()},enumerable:!0,configurable:!0});var ep=function(e){function t(t,n,r,i,s){var o=e.call(this,t,n,r,i)||this;return o.type=s,o._tag="ArrayType",o}return V(t,e),t}(Q),em=function(e){function t(t,n,r,i,s){var o=e.call(this,t,n,r,i)||this;return o.props=s,o._tag="InterfaceType",o}return V(t,e),t}(Q);function e_(e,t){void 0===t&&(t=es(e));var n=Object.keys(e),r=n.map(function(t){return e[t]}),i=n.length;return new em(t,function(e){if(eh.is(e)){for(var t=0;t<i;t++){var s=n[t],o=e[s];if(void 0===o&&!er.call(e,s)||!r[t].is(o))return!1}return!0}return!1},function(e,t){var s=eh.validate(e,t);if(K(s))return s;for(var o=s.right,a=o,l=[],c=0;c<i;c++){var u=n[c],d=a[u],h=r[c],f=h.validate(d,et(t,u,h,d));if(K(f))en(l,f.left);else{var p=f.right;p===d&&(void 0!==p||er.call(a,u))||(a===o&&(a=J({},o)),a[u]=p)}}return l.length>0?Y(l):G(a)},ei(r)?ee:function(e){for(var t=J({},e),s=0;s<i;s++){var o=n[s],a=r[s].encode;a!==ee&&(t[o]=a(e[o]))}return t},e)}var eg=function(e){function t(t,n,r,i,s){var o=e.call(this,t,n,r,i)||this;return o.props=s,o._tag="PartialType",o}return V(t,e),t}(Q);function ev(e,t){if(void 0===t){var n;n=es(e),t="Partial<".concat(n,">")}var r=Object.keys(e),i=r.map(function(t){return e[t]}),s=r.length;return new eg(t,function(t){if(eh.is(t)){for(var n=0;n<s;n++){var i=r[n],o=t[i];if(void 0!==o&&!e[i].is(o))return!1}return!0}return!1},function(t,n){var i=eh.validate(t,n);if(K(i))return i;for(var o=i.right,a=o,l=[],c=0;c<s;c++){var u=r[c],d=a[u],h=e[u],f=h.validate(d,et(n,u,h,d));if(K(f))void 0!==d&&en(l,f.left);else{var p=f.right;p!==d&&(a===o&&(a=J({},o)),a[u]=p)}}return l.length>0?Y(l):G(a)},ei(i)?ee:function(e){for(var t=J({},e),n=0;n<s;n++){var o=r[n],a=e[o];void 0!==a&&(t[o]=i[n].encode(a))}return t},e)}var ey=function(e){function t(t,n,r,i,s,o){var a=e.call(this,t,n,r,i)||this;return a.domain=s,a.codomain=o,a._tag="DictionaryType",a}return V(t,e),t}(Q);function eS(e,t,n){var r,i,s,o,a,l=function e(t){var n;if("LiteralType"===t._tag){var r=t.value;if(ec.is(r))return(n={})[r]=null,n}else{if("KeyofType"===t._tag)return t.keys;if("UnionType"===t._tag){var i=t.types.map(function(t){return e(t)});return i.some(el.is)?void 0:Object.assign.apply(Object,W([{}],i,!1))}}}(e);return l?(r=Object.keys(l),void 0===(i=n)&&(i="{ [K in ".concat(e.name,"]: ").concat(t.name," }")),s=r.length,new ey(i,function(e){return eh.is(e)&&r.every(function(n){return t.is(e[n])})},function(e,n){var i=eh.validate(e,n);if(K(i))return i;for(var o=i.right,a={},l=[],c=!1,u=0;u<s;u++){var d=r[u],h=o[d],f=t.validate(h,et(n,d,t,h));if(K(f))en(l,f.left);else{var p=f.right;c=c||p!==h,a[d]=p}}return l.length>0?Y(l):G(c||Object.keys(o).length!==s?a:o)},t.encode===ee?ee:function(e){for(var n={},i=0;i<s;i++){var o=r[i];n[o]=t.encode(e[o])}return n},e,t)):(o=e,void 0===(a=n)&&(a="{ [K in ".concat(o.name,"]: ").concat(t.name," }")),new ey(a,function(e){return eh.is(e)?Object.keys(e).every(function(n){return o.is(n)&&t.is(e[n])}):ea(t)&&Array.isArray(e)},function(e,n){if(eh.is(e)){for(var r={},i=[],s=Object.keys(e),a=s.length,l=!1,c=0;c<a;c++){var u=s[c],d=e[u],h=o.validate(u,et(n,u,o,u));if(K(h))en(i,h.left);else{var f=h.right;l=l||f!==u,u=f;var p=t.validate(d,et(n,u,t,d));if(K(p))en(i,p.left);else{var m=p.right;l=l||m!==d,r[u]=m}}}return i.length>0?Y(i):G(l?r:e)}return ea(t)&&Array.isArray(e)?G(e):X(e,n)},o.encode===ee&&t.encode===ee?ee:function(e){for(var n={},r=Object.keys(e),i=r.length,s=0;s<i;s++){var a=r[s];n[String(o.encode(a))]=t.encode(e[a])}return n},o,t))}var eb=function(e){function t(t,n,r,i,s){var o=e.call(this,t,n,r,i)||this;return o.types=s,o._tag="UnionType",o}return V(t,e),t}(Q),ew=function(e){function t(t,n,r,i,s){var o=e.call(this,t,n,r,i)||this;return o.types=s,o._tag="IntersectionType",o}return V(t,e),t}(Q);function ex(e,t){void 0===t&&(t="(".concat(e.map(function(e){return e.name}).join(" & "),")"));var n=e.length;return new ew(t,function(t){return e.every(function(e){return e.is(t)})},0===e.length?G:function(t,r){for(var i=[],s=[],o=0;o<n;o++){var a=e[o],l=a.validate(t,et(r,String(o),a,t));K(l)?en(s,l.left):i.push(l.right)}return s.length>0?Y(s):G(eo(t,i))},0===e.length?ee:function(t){return eo(t,e.map(function(e){return e.encode(t)}))},e)}function eT(e,t,n){return void 0===n&&(n="(".concat(e.name," | ").concat(t.displayName||t.name||"<function".concat(t.length,">"),")")),new ef(n,function(n){return e.is(n)&&t(n)},function(n,r){var i=e.validate(n,r);if(K(i))return i;var s=i.right;return t(s)?G(s):X(s,r)},e.encode,e,t)}V(function(e,t,n,r,i){var s=u.call(this,e,t,n,r)||this;return s.types=i,s._tag="TupleType",s},u=Q),V(function(e,t,n,r,i){var s=d.call(this,e,t,n,r)||this;return s.type=i,s._tag="ReadonlyType",s},d=Q),V(function(e,t,n,r,i){var s=h.call(this,e,t,n,r)||this;return s.type=i,s._tag="ReadonlyArrayType",s},h=Q),V(function(e,t,n,r,i){var s=f.call(this,e,t,n,r)||this;return s.type=i,s._tag="ExactType",s},f=Q),new(function(e){function t(){var t=e.call(this,"Function",function(e){return"function"==typeof e},function(e,n){return t.is(e)?G(e):X(e,n)},ee)||this;return t._tag="FunctionType",t}return V(t,e),t}(Q)),new(function(e){function t(){var t=e.call(this,"never",function(e){return!1},function(e,t){return X(e,t)},function(){throw Error("cannot encode never")})||this;return t._tag="NeverType",t}return V(t,e),t}(Q)),new(function(e){function t(){var t=e.call(this,"any",function(e){return!0},G,ee)||this;return t._tag="AnyType",t}return V(t,e),t}(Q)),eT(eu,Number.isInteger,"Integer"),V(function(e,t,n,r,i,s){var o=p.call(this,e,t,n,r,i)||this;return o.tag=s,o},p=eb),new(function(e){function t(){var t=e.call(this,"object",function(e){return null!==e&&"object"==typeof e},function(e,n){return t.is(e)?G(e):X(e,n)},ee)||this;return t._tag="ObjectType",t}return V(t,e),t}(Q)),V(function(e,t,n,r,i){var s=m.call(this,e,t,n,r)||this;return s.props=i,s._tag="StrictType",s},m=Q);var eI=n(3454);let ek=eS(ec,ex([ev({name:ec}),e_({components:eS(ec,ex([e_({id:ec,model:ex([e_({id:ec,variations:(_=ex([e_({id:ec}),ev({name:ec})]),void 0===g&&(g="Array<".concat(_.name,">")),new ep(g,function(e){return ed.is(e)&&e.every(_.is)},function(e,t){var n=ed.validate(e,t);if(K(n))return n;for(var r=n.right,i=r.length,s=r,o=[],a=0;a<i;a++){var l=r[a],c=_.validate(l,et(t,String(a),_,l));if(K(c))en(o,c.left);else{var u=c.right;u!==l&&(s===r&&(s=r.slice()),s[a]=u)}}return o.length>0?Y(o):G(s)},_.encode===ee?ee:function(e){return e.map(_.encode)},_))}),ev({name:ec})]),mocks:eS(ec,e_({variation:ec}))}),ev({name:ec})]))})]));var eR=((v=eR||{}).ManagedState="managedState",v.Slices="slices",v.ActiveSlice="activeSlice",v.Message="message",v),ej=((y=ej||{}).Pending="pending",y.Loaded="loaded",y.Error="error",y);let eC=()=>({state:{},zIndex:100,background:"#ffffff"}),eL=()=>({data:null,status:ej.Pending,error:null}),eA=()=>[],eq=()=>"",eM="slice-simulator",eF="slice-simulator--root",eD=e=>{let t=document.querySelector(`.${eM} [data-slice-zone]`);if(t)return t.children.length!==e&&console.warn(`Flagged SliceZone has an unexpected number of children, found ${t.children.length} but expected ${e}. This might lead to unexpected behaviors. Are you sure you tagged the right element?`),t;if(!(t=document.querySelector(`.${eM} .${eF}`)))return null;for(let n=0;n<5;n++){if(t.children.length===e)return t;if(t.children.length)t=t.children[0];else break}return null},eE=(e,t)=>{let n=document.elementsFromPoint(t.x,t.y).reverse(),r=n.indexOf(e);if(-1===r)return null;let i=n[r+1];return i||null},eP=(e,t)=>`<a href="${e}" style="text-decoration: underline;">${t||e}<a>`,eO=`<div style="word-spacing: initial; white-space: pre; line-height: initial; font-family: monospace; color: #ffffff; mix-blend-mode: difference; padding: 1rem; font-size: 1rem;">${`   _____ ___          _____ _                 __      __            
  / ___// (_)_______ / ___/(_)___ ___  __  __/ /___ _/ /_____  _____
  \\__ \\/ / / ___/ _ \\\\__ \\/ / __ \`__ \\/ / / / / __ \`/ __/ __ \\/ ___/
 ___/ / / / /__/  __/__/ / / / / / / / /_/ / / /_/ / /_/ /_/ / /    
/____/_/_/\\___/\\___/____/_/_/ /_/ /_/\\__,_/_/\\__,_/\\__/\\____/_/     
                  / /_  __  __   / __ \\_____(_)________ ___  (_)____
                 / __ \\/ / / /  / /_/ / ___/ / ___/ __ \`__ \\/ / ___/
                / /_/ / /_/ /  / ____/ /  / (__  ) / / / / / / /__  
               /_.___/\\__, /  /_/   /_/  /_/____/_/ /_/ /_/_/\\___/  
                     /____/

You're seeing this page because you're accessing Slice Simulator
directly, e.g:

  - ${eP("http://localhost:3000/slice-simulator")}



Slice Simulator is not meant to be accessed this way, to preview your
slices, head over to Slice Machine UI:

  - ${eP("http://localhost:9999")}



If you believe this is an error, please reach out to us:

  - ${eP("https://github.com/prismicio/slice-machine/issues/new/choose")}





                                                - The Prismic team`}</div>`;class eN{constructor(){this._listeners={}}on(e,t,n=null){var r;this._listeners[e]=[...null!=(r=this._listeners[e])?r:[],[t,n]]}off(e,t){var n;this._listeners[e]=(null!=(n=this._listeners[e])?n:[]).filter(([e,n])=>"function"==typeof t?e!==t:n!==t)}emit(e,t){var n;(null!=(n=this._listeners[e])?n:[]).forEach(e=>e[0](t))}}let ez=(e,t=16)=>{let n=0,r=null;return function(...i){let s=Date.now(),o=s-n;o>=t?(e.apply(this,i),n=s):(r&&clearTimeout(r),r=setTimeout(()=>{e.apply(this,i),n=Date.now()},t-o))}};void 0===eI&&(globalThis.process={env:{}});class e$ extends eN{constructor(e=eL(),t=eA()){super(),this._setActiveSlice=()=>{if(0===this.slices.length){this.activeSlice=null;return}let e=eD(this.slices.length);if(!e){this.activeSlice=null;return}let t=eE(e,this._mouse);if(!t){this.activeSlice=null;return}let n=Array.prototype.indexOf.call(e.children,t);this.activeSlice={rect:t.getBoundingClientRect(),sliceID:this.slices[n].slice_type,variationID:this.slices[n].variation,index:n}},this.setActiveSlice=ez(this._setActiveSlice,16),this._setSliceZoneFromSliceIDsLastCall=null,this._managedState=e,this._slices=t,this._activeSlice=null,this._message="",this._mouse={x:0,y:0}}set managedState(e){this._managedState=e,this.emit(eR.ManagedState,e)}get managedState(){return this._managedState}set slices(e){this._slices=e,this.message="",this.emit(eR.Slices,e)}get slices(){return this._slices}set activeSlice(e){this._activeSlice=e,this.emit(eR.ActiveSlice,e)}get activeSlice(){return this._activeSlice}set message(e){this._message=e,this.emit(eR.Message,e)}get message(){return this._message}async init(e){this._managedState=await this.load(e),await this.forceSliceChunksDownload(),this.setDefaultSliceZone(),this.emit(eR.ManagedState,this._managedState),window.addEventListener("mousemove",e=>{this._mouse={x:e.clientX,y:e.clientY}})}async load(e){try{let t=await ("function"==typeof e?e():e),n=ek.decode(t);if("Left"===n._tag)throw console.error(n.left),Error("State does not validate expected format, see console logs for detailed report");return{data:n.right,status:ej.Loaded,error:null}}catch(e){return console.error(e),{data:null,status:ej.Error,error:e}}}async reload(e){this.managedState=await this.load(e),this.recoverSliceZone()}_throwIfNotLoaded(e){var t;if(this.managedState.status===ej.Error)throw null!=(t=this.managedState.error)?t:Error("Unknown state error, see console logs for detailed report");if(this.managedState.status===ej.Pending||!this.managedState.data)throw Error(`\`StateManager.${e}()\` can only be called when the state is loaded, use \`StateManager.load()\` first`)}getLibraries(){return this._throwIfNotLoaded("getLibraries"),Object.entries(this.managedState.data).map(([e,t])=>{let n=t.components;return{path:e,slices:Object.values(n).map(e=>({id:e.id,name:e.name||e.id,variations:e.model.variations.map(e=>({id:e.id,name:e.name||e.id}))}))}})}getMocks(){return this._throwIfNotLoaded("getMocks"),Object.values(this.managedState.data).reduce((e,t)=>{let n=t.components;return Object.values(n).forEach(t=>{e[t.id]=Object.values(t.mocks).reduce((e,t)=>(e[t.variation]=t,e),{})}),e},{})}async forceSliceChunksDownload(){this.setSliceZoneFromSliceIDs(this.getLibraries().map(e=>e.slices.map(e=>({sliceID:e.id,variationID:e.variations[0].id}))).flat()),await new Promise(e=>setTimeout(e,0)),this.slices=[]}setDefaultSliceZone(){if(this._throwIfNotLoaded("setDefaultSliceZone"),"undefined"!=typeof window){let e=new URL(window.location.href);e.searchParams.has("sid")&&e.searchParams.has("vid")&&this.setSliceZoneFromSliceIDs([{sliceID:e.searchParams.get("sid"),variationID:e.searchParams.get("vid")}])}}recoverSliceZone(){this._setSliceZoneFromSliceIDsLastCall&&this.setSliceZoneFromSliceIDs(this._setSliceZoneFromSliceIDsLastCall)}setSliceZone(e){this._setSliceZoneFromSliceIDsLastCall=null,this.slices=e}setSliceZoneFromSliceIDs(e){this._setSliceZoneFromSliceIDsLastCall=e;let t=this.getMocks();this.slices=e.map(e=>{let n=e.sliceID,r=e.variationID;if(n in t&&r in t[n])return t[n][r]}).filter(Boolean)}}let eZ=e=>{e.preventDefault(),e.stopPropagation()},eU=e=>{e.path&&e.path.slice(0,5).some(e=>e instanceof HTMLAnchorElement)&&(e.preventDefault(),e.stopPropagation())},eB=new class{constructor(e=eL(),t=eA()){this.stateManager=new e$(e,t),this._api=null,this._initialized=!1}async init(e){if(this._initialized){await this.stateManager.reload(e);return}this._initialized=!0,await this.stateManager.init(e);try{await this._initAPI()}catch(e){e instanceof Error&&"Receiver is currently not embedded as an iframe"===e.message&&!this.stateManager.slices.length&&(this.stateManager.message=eO),console.error(e);return}this._initListeners()}async _initAPI(){this._api=new H({[U.GetLibraries]:(e,t)=>t.success(this.stateManager.getLibraries()),[U.SetSliceZone]:(e,t)=>(this.stateManager.setSliceZone(e.data),t.success()),[U.SetSliceZoneFromSliceIDs]:(e,t)=>(this.stateManager.setSliceZoneFromSliceIDs(e.data),t.success()),[U.ScrollToSlice]:(e,t)=>{var n;if(e.data.sliceIndex<0)return t.error("`sliceIndex` must be > 0",400);if(e.data.sliceIndex>=this.stateManager.slices.length)return t.error(`\`sliceIndex\` must be < ${this.stateManager.slices.length} (\`<SliceZone />\` current length)`,400);let r=eD(this.stateManager.slices.length);if(!r)return t.error("Failed to find `<SliceZone />`",500);this.stateManager.activeSlice=null;let i=r.children[e.data.sliceIndex];return i?(i.scrollIntoView({behavior:e.data.behavior,block:e.data.block,inline:e.data.inline}),(null==(n=this._api)?void 0:n.options.activeSliceAPI)&&setTimeout(this.stateManager.setActiveSlice,750),t.success()):t.error("Failed fo find slice at index $`{req.data.sliceIndex}` in `<SliceZone />`",500)}}),await this._api.ready()}_initListeners(){window.addEventListener("mousemove",()=>{var e;(null==(e=this._api)?void 0:e.options.activeSliceAPI)&&this.stateManager.setActiveSlice()}),window.addEventListener("resize",()=>{var e;(null==(e=this._api)?void 0:e.options.activeSliceAPI)&&this.stateManager.setActiveSlice()}),window.addEventListener("mousewheel",()=>{var e;(null==(e=this._api)?void 0:e.options.activeSliceAPI)&&setTimeout(this.stateManager.setActiveSlice,200)}),this.stateManager.on(eR.Slices,()=>{var e;(null==(e=this._api)?void 0:e.options.activeSliceAPI)&&this.stateManager.setActiveSlice()}),this.stateManager.on(eR.ActiveSlice,async e=>{if(this._api)try{await this._api.setActiveSlice(e)}catch(e){if(e instanceof A&&400===e.response.status)console.error(e.response);else throw e}})}},eH=e=>{let t=eC(),[n,r]=b.useState(eL()),[i,s]=b.useState(eA()),[o,a]=b.useState(eq());b.useEffect(()=>(eB.stateManager.on(eR.ManagedState,e=>{r(e)},"simulator-managed-state"),eB.stateManager.on(eR.Slices,e=>{s(e)},"simulator-slices"),eB.stateManager.on(eR.Message,e=>{a(e)},"simulator-message"),eB.init(e.state||t.state),()=>{eB.stateManager.off(eR.ManagedState,"simulator-managed-state"),eB.stateManager.off(eR.Slices,"simulator-slices"),eB.stateManager.off(eR.Message,"simulator-message")}),[]);let l=b.useRef(!1);return b.useEffect(()=>{l.current?eB.stateManager.reload(e.state):l.current=!0},[e.state]),b.createElement("div",{className:[eM,e.className].filter(Boolean).join(" "),style:{zIndex:void 0===e.zIndex?t.zIndex:e.zIndex,position:"fixed",top:0,left:0,width:"100%",height:"100vh",overflow:"auto",background:void 0===e.background?t.background:e.background}},o?b.createElement("article",{dangerouslySetInnerHTML:{__html:o}}):i.length?b.createElement("div",{id:"root",className:eF,style:n.status!==ej.Loaded?{display:"none"}:void 0,onClickCapture:eU,onSubmitCapture:eZ},e.sliceZone({slices:i})):null)}},5833:function(e){"use strict";e.exports=JSON.parse('{"100":"Continue","101":"Switching Protocols","102":"Processing","103":"Early Hints","200":"OK","201":"Created","202":"Accepted","203":"Non-Authoritative Information","204":"No Content","205":"Reset Content","206":"Partial Content","207":"Multi-Status","208":"Already Reported","226":"IM Used","300":"Multiple Choices","301":"Moved Permanently","302":"Found","303":"See Other","304":"Not Modified","305":"Use Proxy","307":"Temporary Redirect","308":"Permanent Redirect","400":"Bad Request","401":"Unauthorized","402":"Payment Required","403":"Forbidden","404":"Not Found","405":"Method Not Allowed","406":"Not Acceptable","407":"Proxy Authentication Required","408":"Request Timeout","409":"Conflict","410":"Gone","411":"Length Required","412":"Precondition Failed","413":"Payload Too Large","414":"URI Too Long","415":"Unsupported Media Type","416":"Range Not Satisfiable","417":"Expectation Failed","418":"I\'m a Teapot","421":"Misdirected Request","422":"Unprocessable Entity","423":"Locked","424":"Failed Dependency","425":"Too Early","426":"Upgrade Required","428":"Precondition Required","429":"Too Many Requests","431":"Request Header Fields Too Large","451":"Unavailable For Legal Reasons","500":"Internal Server Error","501":"Not Implemented","502":"Bad Gateway","503":"Service Unavailable","504":"Gateway Timeout","505":"HTTP Version Not Supported","506":"Variant Also Negotiates","507":"Insufficient Storage","508":"Loop Detected","509":"Bandwidth Limit Exceeded","510":"Not Extended","511":"Network Authentication Required"}')}}]);